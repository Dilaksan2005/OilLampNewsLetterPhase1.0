<!--file:OilLampNewsLetterPhase1.0/index.html-->
<!DOCTYPE HTML>
<html style=" scroll-behavior: smooth; ">

<head>
     <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NMM2DSVH');</script>
<!-- End Google Tag Manager -->
	<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-V4DPFS5FGL"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-V4DPFS5FGL');
</script>
	<title>Elegance Candles</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="assets/css/main.css" />
	<noscript>
		<link rel="stylesheet" href="assets/css/noscript.css" />
	</noscript>
	<!-- Google Fonts for icons -->
	<link rel="stylesheet"
		href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0" />
	<!--Loader-->
	<script>
		window.addEventListener("load", function () {
			const loader = document.getElementById("loader-wrapper");
			if (loader) {
				loader.classList.add("fade-out");
				setTimeout(() => {
					loader.style.display = "none";
				}, 800);
			}
		});
	</script>
	<!--Loader Ends-->
	<style>
		/* New validation styles */
		.honeypot {
			position: absolute;
			left: -9999px;
		}

		.validation-error {
			color: #e74c3c;
			font-size: 0.9rem;
			margin-top: 5px;
			display: none;
		}

		.validation-error.show {
			display: block;
		}

		.loading-spinner {
			display: none;
			/* Hidden by default */
			width: 28px;
			/* Slightly larger */
			height: 28px;
			border: 4px solid rgba(22, 100, 252, 0.2);
			/* Lighter, more subtle base */
			border-radius: 50%;
			border-top-color: #007bff;
			/* Primary blue, strong contrast */
			box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);
			/* Subtle glow effect */
			animation: spin 0.8s linear infinite;
			/* Faster, linear spin for smoothness */
			margin-left: 10px;
			vertical-align: middle;
			position: relative;
			top: -2px;
		}

		@keyframes spin {
			0% {
				transform: rotate(0deg);
			}

			100% {
				transform: rotate(360deg);
			}
		}

		/* Updated slider styles */
		.slider-section {
			padding: 40px 0;
			background: #f9f9f9;
		}

		.slider-wrapper {
			position: relative;
			max-width: 1200px;
			margin: 0 auto;
			overflow: hidden;
		}

		.slide-button {
			position: absolute;
			top: 50%;
			transform: translateY(-50%);
			outline: none;
			border: none;
			height: 50px;
			width: 40px;
			z-index: 10;
			display: flex;
			cursor: pointer;
			font-size: 0.9rem;
			/* Smaller icon size */
			background: #ffffff;
			/* White background */
			align-items: center;
			justify-content: center;
			border-radius: 50%;
			transition: all 0.3s ease;
			box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
			color: #000000;
			/* Black icon */
			/* Black border */
		}


		.slide-button:hover {
			background: hsla(0, 0%, 100%, 0.692);
			/* Gold color on hover */
			color: #ffffff;
			/* White icon on hover */
			/* Gold border on hover */
			transform: translateY(-50%) scale(1.05);
		}


		.slide-button#prev-slide {
			left: 15px;
		}

		.slide-button#next-slide {
			right: 15px;
		}

		.image-list {
			display: flex;
			gap: 18px;
			list-style: none;
			margin: 0;
			padding: 20px;
			overflow-x: auto;
			scrollbar-width: none;
			scroll-behavior: smooth;
			scroll-snap-type: x mandatory;
		}

		.image-list::-webkit-scrollbar {
			display: none;
		}

		.image-item {
			flex: 0 0 auto;
			width: 280px;
			height: 350px;
			object-fit: cover;
			border-radius: 8px;
			box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
			transition: transform 0.3s ease;
			scroll-snap-align: start;
		}

		.image-item:hover {
			transform: scale(1.03);
		}

		.slider-scrollbar {
			height: 24px;
			width: 100%;
			display: flex;
			align-items: center;
			max-width: 900px;
			margin: 0 auto;
			padding: 0 20px;
		}

		.scrollbar-track {
			background: #ddd;
			width: 100%;
			height: 3px;
			display: flex;
			align-items: center;
			border-radius: 4px;
			position: relative;
			transition: height 0.3s ease;
		}

		.slider-scrollbar:hover .scrollbar-track {
			height: 5px;
		}

		.scrollbar-thumb {
			position: absolute;
			background: #333;
			top: 0;
			bottom: 0;
			width: 50%;
			height: 100%;
			cursor: grab;
			border-radius: inherit;
			transition: height 0.3s ease, top 0.3s ease;
		}

		.scrollbar-thumb:active {
			cursor: grabbing;
			height: 8px;
			top: -2px;
		}

		.scrollbar-thumb::after {
			content: "";
			position: absolute;
			left: 0;
			right: 0;
			top: -10px;
			bottom: -10px;
		}

		/* Responsive adjustments */
		@media only screen and (max-width: 1023px) {
			.slide-button {
				height: 44px;
				width: 34px;
				font-size: 0.85rem;
				/* Even smaller on tablets */
			}

			.image-list {
				gap: 10px;
				margin-bottom: 15px;
			}

			.image-item {
				width: 250px;
				height: 320px;
			}

			.slider-scrollbar .scrollbar-thumb {
				width: 20%;
			}
		}

		@media only screen and (max-width: 768px) {
			.slide-button {
				height: 42px;
				width: 32px;
				font-size: 0.8rem;
				/* Smallest on mobile */
			}

			.image-item {
				width: 220px;
				height: 280px;
			}
		}
	</style>
</head>

<body class="is-preload">
	<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NMM2DSVH"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
	<!--Loader-->
	<div id="loader-wrapper">
		<div class="loader"></div>
	</div>
	<!-- Wrapper -->
	<div id="wrapper" class="fade-in">

		<!-- Intro -->
		<div id="intro">
			<h1>Illuminate Your Space with Timeless Elegance</h1>
			<p>Be the first to discover our handcrafted candles, oil lamps, and exquisite lighting decor curated to
				transform your home into a sanctuary of warmth and style.</p>
			<a href="#footer" class="button">Join Us</a>
			<br>
			<ul class="actions">
				<li><a href="#header" class="button icon solid solo fa-arrow-down scrolly">Continue</a></li>
			</ul>
		</div>

		<!-- Header -->
		<header id="header">
			<a class="logo">Brand Name</a>
		</header>

		<!-- Main -->
		<div id="main">

			<!-- Introduction Post -->
			<article class="post featured">
				<header class="major">
					<h2>A Glow Worth Waiting For</h2>
					<p>At [Brand Name], we believe light is more than just illumination, it’s an experience. Each of our
						candles,
						oil lamps, and decorative pieces is designed to evoke nostalgia, elegance, and serenity.
						Inspired by
						craftsmanship and the soft flicker of a flame, our collection is coming soon to bring warmth to
						your
						everyday moments.</p>
				</header>
				<!--timer-->
				<div>
					<h2 style="justify-self: center; text-align: center;">Website Launches In</h2>
					<div style="justify-self: center; text-align: center;" id="countdown">
						<div class="time-box">
							<div id="months">0</div>
							<div class="label">Months</div>
						</div>
						<div class="time-box">
							<div id="days">0</div>
							<div class="label">Days</div>
						</div>
						<div class="time-box">
							<div id="hours">0</div>
							<div class="label">Hours</div>
						</div>
						<div class="time-box">
							<div id="minutes">0</div>
							<div class="label">Minutes</div>
						</div>
						<div class="time-box">
							<div id="seconds">0</div>
							<div class="label">Seconds</div>
						</div>
					</div>
				</div>

				<br>
				<h2 style="justify-self: center;">Don’t Miss the First Spark</h2>
				<a href="#footer" class="button">Join Us</a>

			</article>

			<!-- Image Slider Section -->
			<section class="slider-section">
				<h2 style="text-align: center; margin-bottom: 30px;">Our Products</h2>
				<div class="slider-wrapper">
					<button id="prev-slide" class="slide-button material-symbols-rounded">
						chevron_left
					</button>
					<ul class="image-list">
						<img class="image-item" src="images/slider-pic-1.jpg" alt="Artisan Candles">
						<img class="image-item" src="images/slider-pic-2.jpg" alt="Vintage Oil Lamp">
						<img class="image-item" src="images/slider-pic-3.jpg" alt="Crystal Candle Holder">
						<img class="image-item" src="images/slider-pic-4.jpg" alt="Modern Lantern">
						<img class="image-item" src="images/slider-pic-5.jpg" alt="Scented Soy Candles">
						<img class="image-item" src="images/slider-pic-6.jpeg" alt="Brass Oil Lamp">
						<img class="image-item" src="images/slider-pic-7.jpg" alt="Artisan Candles">
						<img class="image-item" src="images/slider-pic-8.jpg" alt="Vintage Oil Lamp">
						<img class="image-item" src="images/slider-pic-9.jpg" alt="Crystal Candle Holder">
						<img class="image-item" src="images/slider-pic-10.jpg" alt="Modern Lantern">
						<img class="image-item" src="images/slider-pic-11.jpg" alt="Scented Soy Candles">
						<img class="image-item" src="images/slider-pic-12.jpg" alt="Brass Oil Lamp">
						<img class="image-item" src="images/slider-pic-13.jpg" alt="Brass Oil Lamp">
						<img class="image-item" src="images/slider-pic-14.jpg" alt="Brass Oil Lamp">
					</ul>
					<button id="next-slide" class="slide-button material-symbols-rounded">
						chevron_right
					</button>
				</div>
				<div class="slider-scrollbar">
					<div class="scrollbar-track">
						<div class="scrollbar-thumb"></div>
					</div>
				</div>
			</section>
			<!-- End Image Slider Section -->




			<!-- Featured Products -->
			<h2 style="justify-self: center; text-align: center;">Featured Products</h2>
			<section class="posts">
				<!-- Posts -->
				<article>
					<header>

						<h2><a href="#">Candles</a></h2>
					</header>
					<a href="#" class="image fit"><img src="images/pic02.jpg" alt="" /></a>
					<p>Our candles are more than mere light sources, they’re vessels of ambiance and intention.
						Hand-poured with premium wax and thoughtfully curated fragrances, each piece balances everyday
						calm with decorative charm. Whether for quiet evenings, festive gatherings, or sacred rituals,
						their gentle glow transforms moments into memories.</p>

				</article>
				<article>
					<header>

						<h2><a href="#">Oil Lamps</a></h2>
					</header>
					<a href="#" class="image fit"><img src="images/pic03.jpg" alt="" /></a>
					<p>A tribute to heritage reimagined for today’s homes, our oil lamps marry artisanal craftsmanship
						with graceful design. Their flickering flames cast a serene, golden light, perfect for creating
						pockets of tranquility or spiritual warmth. Functional heirlooms that whisper stories of
						simplicity and elegance.</p>

				</article>
				<article>
					<header>

						<h2>Candle Holders</h2>
					</header>
					<a href="#" class="image fit"><img src="images/pic04.jpg" alt="" /></a>
					<p>A candle’s glow deserves a stage. Our holders sculpted from glass, metal, and natural
						materials—are designed to amplify beauty, turning flickers into focal points. From minimalist
						lines to ornate details, each piece is a silent curator of atmosphere, making even the simplest
						candle feel ceremonial.</p>
				</article>
				<article>
					<header>

						<h2><a href="#">Decorative Lighting</a></h2>
					</header>
					<a href="#" class="image fit"><img src="images/pic05.jpg" alt="" /></a>
					<p>Lighting that transcends function to become conversation and heirloom. Our designs blend organic
						textures, delicate forms, and a touch of drama, casting shadows that dance on walls and moods
						that linger. For those who believe a room isn’t dressed until its lighting speaks.</p>
				</article>

			</section>
			<!-- End Featured Products -->
			<!-- Product Cards Starts -->
			<section>
				<h2 style="justify-self: center; text-align: center;">View More Products</h2>

				<!-- P1-->
				<div class="row" id="allProductsContainer">
					<div class="col-4 col-12-medium product-item">
						<div class="card">
							<div class="card__wrapper">
								<img src="images/pic06.jpg" alt="Product 1">
							</div>
							<div class="card__title">Product Name 1</div>
							<div class="card__subtitle">Short description for product 1.</div>
							<ul class="actions fit"></ul>
						</div>
					</div>

					<!-- P2-->
					<div class="col-4 col-12-medium product-item">
						<div class="card">
							<div class="card__wrapper">
								<img src="images/pic07.jpg" alt="Product 2">
							</div>
							<div class="card__title">Product Name 2</div>
							<div class="card__subtitle">Short description for product 2.</div>
							<ul class="actions fit">
								<li></li>
							</ul>
						</div>
					</div>
					<!-- P3-->
					<div class="col-4 col-12-medium product-item">
						<div class="card">
							<div class="card__wrapper">
								<img src="images/pic06.jpg" alt="Product 3">
							</div>
							<div class="card__title">Product Name 3</div>
							<div class="card__subtitle">Short description for product 3.</div>
							<ul class="actions fit">
								<li></li>
							</ul>
						</div>
					</div>
					<!-- P4-->
					<div class="col-4 col-12-medium product-item">
						<div class="card">
							<div class="card__wrapper">
								<img src="images/pic06.jpg" alt="Product 4">
							</div>
							<div class="card__title">Product Name 4</div>
							<div class="card__subtitle">Short description for product 4.</div>
							<ul class="actions fit">
								<li></li>
							</ul>
						</div>
					</div>
					<!-- P5-->
					<div class="col-4 col-12-medium product-item">
						<div class="card">
							<div class="card__wrapper">
								<img src="images/pic06.jpg" alt="Product 5">
							</div>
							<div class="card__title">Product Name 5</div>
							<div class="card__subtitle">Short description for product 5.</div>
							<ul class="actions fit">
								<li></li>
							</ul>
						</div>
					</div>
					<!-- P6-->
					<div class="col-4 col-12-medium product-item">
						<div class="card">
							<div class="card__wrapper">
								<img src="images/pic06.jpg" alt="Product 6">
							</div>
							<div class="card__title">Product Name 6</div>
							<div class="card__subtitle">Short description for product 6.</div>
							<ul class="actions fit">
								<li></li>
							</ul>
						</div>
					</div>
				</div>
				<div style="text-align: center; margin-top: 3rem;">
					<button id="viewMoreProductsBtn" class="button primary large">View More Products</button>
				</div>
			</section>

			<section>
				<!-- Product Cards Ends-->
				<!-- Q&A Form -->
				<!--Q&A Form is removed and changed with client request-->
				<h2 style="text-align: center; margin-bottom: 0%;">Looking for Custom Candles?</h2>
				<p style="text-align: center; margin-top: 0%;">We now offer personalized candles… tailored to your
					brand, event, or aesthetic. Choose
					your scent, style, and packaging.</p>
				<div style="text-align: center;">
					<a href="#" class="button primary disabled">Contact Us for Custom Orders</a>
				</div>
				<hr>



				<!-- End Q&A Form -->
			</section>
		</div>

		<!-- Footer -->
		<footer id="footer">
			<section>
				<form id="emailForm">
					<div class="fields">

						<!-- Newsletter Signup (Email, First Name, Phone No) -->
						<div class="field">

							<div class="honeypot">
								<label for="honeypot">If you are human, leave this field blank:</label>
								<input type="text" name="honeypot" id="honeypot" />
							</div>

							<div>
								<h2 style="justify-content: center; text-align: center;">Subscribe to newsletter</h2>
							</div>

							<label for="email">Email</label>
							<input type="email" name="email" id="email" required />
							<div id="email-error" class="validation-error">Please enter a valid email</div>
							<br>

							<label for="name">Name</label>
							<input type="text" name="name" id="name" required />
							<div id="name-error" class="validation-error">Please enter your name</div>
							<br>

							<label for="PhoneNo">Phone No.</label>
							<input type="text" name="PhoneNo" id="PhoneNo" required />
							<div id="phone-error" class="validation-error">Please enter a valid phone number</div>
							<br>

						</div>
					</div>
					<ul class="actions">
						<li><input type="submit" value="Subscribe" id="subscribeBtn" />
							<span class="loading-spinner" id="loadingSpinner"></span>
						</li>
					</ul>

					<div id="formMessage" style="display:none; margin-top: 20px;"></div>
				</form>
			</section>


			<section class="split contact">

				<section class="alt">
					<h2 style=" text-align: center;">Contact Us</h2>
				</section>
				<section>
					<h3>Email</h3>
					<p><a href="https://mail.google.com/mail/?view=cm&fs=1&to=info.elegancecandles@gmail.com&su=Order%20Inquiry&body=Hi%20Elegance%20Candles,%0D%0A%0D%0AI%20would%20like%20to%20place%20an%20order%20for%20your%20products.%20Please%20send%20me%20your%20catalog%20and%20pricing.%0D%0A%0D%0AThank%20you!"
							target="_blank">info.elegancecandles@gmail.com</a></p>
				</section>
				<section>
					<h3>Social</h3>
					<ul class="icons alt">
						<li><a href="#" class="icon brands alt fa-twitter"><span class="label">Twitter</span></a></li>
						<li><a href="#" class="icon brands alt fa-facebook-f"><span class="label">Facebook</span></a>
						</li>
						<li><a href="#" class="icon brands alt fa-instagram"><span class="label">Instagram</span></a>
						</li>
						<li><a href="#" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
					</ul>
				</section>
			</section>
		</footer>

		<!-- Copyright -->
		<div id="copyright">
			<ul>
				<li style="color:#000000;">&copy; Untitled</li>
				<li style="color:#000000;">Design: <a href="https://html5up.net">HTML5 UP</a></li>
			</ul>
		</div>

	</div>

	<!-- Scripts -->

	<!-- Counter Scripts -->

	<script>
		// Product Visibility Logic
		document.addEventListener('DOMContentLoaded', function () {
			const productItems = document.querySelectorAll('#allProductsContainer .product-item');
			const viewMoreBtn = document.getElementById('viewMoreProductsBtn');
			const itemsPerLoad = 3;
			let currentlyVisible = itemsPerLoad;
			function updateProductVisibility() {
				productItems.forEach((item, index) => {
					if (index < currentlyVisible) {
						item.classList.remove('hidden');
						item.classList.add('visible');
						item.style.display = 'block';
					} else {
						item.classList.add('hidden');
						item.classList.remove('visible');
						item.style.display = 'none';
					}
				});


				updateButtonVisibility();
			}

			function showNextProductsBatch() {
				currentlyVisible += itemsPerLoad;
				if (currentlyVisible > productItems.length) {
					currentlyVisible = productItems.length;
				}
				updateProductVisibility();
			}

			function updateButtonVisibility() {
				if (currentlyVisible >= productItems.length) {
					if (viewMoreBtn) {
						viewMoreBtn.style.display = 'none';
					}
				} else {
					if (viewMoreBtn) {
						viewMoreBtn.style.display = 'block';
					}
				}
			}
			if (viewMoreBtn) {
				viewMoreBtn.addEventListener('click', showNextProductsBatch);
			}
			updateProductVisibility();
		});

		//clock code
		const launchDate = new Date("2025-09-01T00:00:00"); // Set your launch date here

		function updateCountdown() {
			const now = new Date();
			const totalSeconds = Math.floor((launchDate - now) / 1000);

			if (totalSeconds < 0) {
				document.getElementById("countdown").innerHTML = "We're live!";
				return;
			}

			const seconds = totalSeconds % 60;
			const minutes = Math.floor((totalSeconds / 60) % 60);
			const hours = Math.floor((totalSeconds / 3600) % 24);
			const days = Math.floor((totalSeconds / 86400) % 30);
			const months = Math.floor(totalSeconds / (86400 * 30));

			document.getElementById("months").textContent = months;
			document.getElementById("days").textContent = days;
			document.getElementById("hours").textContent = hours;
			document.getElementById("minutes").textContent = minutes;
			document.getElementById("seconds").textContent = seconds;
		}

		updateCountdown();
		setInterval(updateCountdown, 1000);


		// Image Slider Script
		const initSlider = () => {
			const imageList = document.querySelector(".slider-wrapper .image-list");
			const slideButtons = document.querySelectorAll(".slider-wrapper .slide-button");
			const sliderScrollbar = document.querySelector(".slider-scrollbar");
			const scrollbarThumb = sliderScrollbar.querySelector(".scrollbar-thumb");
			const maxScrollLeft = imageList.scrollWidth - imageList.clientWidth;

			// Handle scrollbar thumb drag
			scrollbarThumb.addEventListener("mousedown", (e) => {
				const startX = e.clientX;
				const thumbPosition = scrollbarThumb.offsetLeft;
				const maxThumbPosition = sliderScrollbar.getBoundingClientRect().width - scrollbarThumb.offsetWidth;

				// Update thumb position on mouse move
				const handleMouseMove = (e) => {
					const deltaX = e.clientX - startX;
					const newThumbPosition = thumbPosition + deltaX;
					const boundedPosition = Math.max(0, Math.min(maxThumbPosition, newThumbPosition));
					const scrollPosition = (boundedPosition / maxThumbPosition) * maxScrollLeft;

					scrollbarThumb.style.left = `${boundedPosition}px`;
					imageList.scrollLeft = scrollPosition;
				}

				// Remove event listeners on mouse up
				const handleMouseUp = () => {
					document.removeEventListener("mousemove", handleMouseMove);
					document.removeEventListener("mouseup", handleMouseUp);
				}

				// Add event listeners for drag interaction
				document.addEventListener("mousemove", handleMouseMove);
				document.addEventListener("mouseup", handleMouseUp);
			});

			// Slide images according to the slide button clicks
			slideButtons.forEach(button => {
				button.addEventListener("click", () => {
					const direction = button.id === "prev-slide" ? -1 : 1;
					const scrollAmount = imageList.clientWidth * direction;
					imageList.scrollBy({ left: scrollAmount, behavior: "smooth" });
				});
			});

			// Show or hide slide buttons based on scroll position
			const handleSlideButtons = () => {
				slideButtons[0].style.display = imageList.scrollLeft <= 0 ? "none" : "flex";
				slideButtons[1].style.display = imageList.scrollLeft >= maxScrollLeft ? "none" : "flex";
			}

			// Update scrollbar thumb position based on image scroll
			const updateScrollThumbPosition = () => {
				const scrollPosition = imageList.scrollLeft;
				const thumbPosition = (scrollPosition / maxScrollLeft) * (sliderScrollbar.clientWidth - scrollbarThumb.offsetWidth);
				scrollbarThumb.style.left = `${thumbPosition}px`;
			}

			// Call these two functions when image list scrolls
			imageList.addEventListener("scroll", () => {
				updateScrollThumbPosition();
				handleSlideButtons();
			});

			// Initialize slider state
			handleSlideButtons();
		}

		window.addEventListener("resize", initSlider);
		window.addEventListener("load", initSlider);
	</script>

	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/jquery.scrollex.min.js"></script>
	<script src="assets/js/jquery.scrolly.min.js"></script>
	<script src="assets/js/browser.min.js"></script>
	<script src="assets/js/breakpoints.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>

	<script type="module">
		// --- Firebase SDK imports ---
		import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
		import { getDatabase, ref, push, query, orderByChild, equalTo, get } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js";

		// --- Firebase configuration ---
		const firebaseConfig = {
			apiKey: "AIzaSyCDGVmZwmJ4m-JicDa-bXEma9sp8bo9Uos",
			authDomain: "oillampnewsletterapp.firebaseapp.com",
			databaseURL: "https://oillampnewsletterapp-default-rtdb.asia-southeast1.firebasedatabase.app",
			projectId: "oillampnewsletterapp",
			storageBucket: "oillampnewsletterapp.firebasestorage.app",
			messagingSenderId: "435713516292",
			appId: "1:435713516292:web:f0a18ac7f61d61bbc02651",
			measurementId: "G-5J5BPKEP7W"
		};

		// --- Initialize Firebase app and database ---
		const app = initializeApp(firebaseConfig);
		const database = getDatabase(app);

		// --- Validation functions ---
		function isValidEmail(email) {
			const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
			return regex.test(email);
		}

		function isValidPhone(phone) {
			const regex = /^[+]?[(]?[0-9]{1,4}[)]?[-\s./0-9]{7,15}$/;
			return regex.test(phone);
		}

		function isValidName(name) {
			return name.trim().length >= 2;
		}

		// --- Show validation error ---
		function showError(elementId, message) {
			const errorElement = document.getElementById(elementId);
			errorElement.textContent = message;
			errorElement.classList.add('show');
		}

		// --- Hide validation error ---
		function hideError(elementId) {
			const errorElement = document.getElementById(elementId);
			errorElement.classList.remove('show');
		}

		// --- Display form message ---
		function displayMessage(message, color) {
			const messageDiv = document.getElementById('formMessage');
			messageDiv.textContent = message;
			messageDiv.style.color = color;
			messageDiv.style.display = 'block';

			setTimeout(() => {
				messageDiv.style.display = 'none';
			}, 5000);
		}

		// --- Check if email already exists in database (FIXED) ---
		async function emailExists(email) {
			try {
				const emailRef = ref(database, 'newsletter_signups');
				const snapshot = await get(emailRef);

				if (!snapshot.exists()) return false;

				// Case-insensitive check
				const emailLower = email.toLowerCase();
				let exists = false;

				snapshot.forEach(child => {
					const childEmail = child.val().email || '';
					if (childEmail.toLowerCase() === emailLower) {
						exists = true;
					}
				});

				return exists;
			} catch (error) {
				console.error('Error checking email existence:', error);
				return false;
			}
		}


		// --- Handle newsletter form submission (FIXED) ---
		document.getElementById('emailForm').addEventListener('submit', async function (e) {
			e.preventDefault(); // Prevent form from refreshing the page

			// --- Capture form values ---
			const email = document.getElementById('email').value.trim();
			const name = document.getElementById('name').value.trim();
			const phone = document.getElementById('PhoneNo').value.trim();
			const timestamp = new Date().toISOString();

			// --- Bot detection using honeypot ---
			const honeypotValue = document.getElementById('honeypot').value.trim();
			if (honeypotValue) {
				displayMessage('Bot activity detected. Please try again.', 'red');
				return;
			}

			// --- Validation ---
			let isValid = true;

			// Reset previous errors
			hideError('email-error');
			hideError('name-error');
			hideError('phone-error');

			// Email validation
			if (!email) {
				showError('email-error', 'Email is required');
				isValid = false;
			} else if (!isValidEmail(email)) {
				showError('email-error', 'Please enter a valid email');
				isValid = false;
			}

			// Name validation
			if (!name) {
				showError('name-error', 'Name is required');
				isValid = false;
			} else if (!isValidName(name)) {
				showError('name-error', 'Name must be at least 2 characters');
				isValid = false;
			}

			// Phone validation
			if (!phone) {
				showError('phone-error', 'Phone number is required');
				isValid = false;
			} else if (!isValidPhone(phone)) {
				showError('phone-error', 'Please enter a valid phone number (8-15 digits)');
				isValid = false;
			}

			if (!isValid) return;

			// --- Show loading spinner ---
			const subscribeBtn = document.getElementById('subscribeBtn');
			const loadingSpinner = document.getElementById('loadingSpinner');
			subscribeBtn.disabled = true;
			loadingSpinner.style.display = 'inline-block';

			try {
				// --- Check if email is already subscribed (FIXED) ---
				const alreadySubscribed = await emailExists(email);
				if (alreadySubscribed) {
					displayMessage('You are already subscribed!', '#e67e22');
					return;
				}

				// --- Save to Firebase under 'newsletter_signups' node ---
				await push(ref(database, 'newsletter_signups'), {
					email: email,
					name: name,
					phone: phone,
					date: timestamp
				});

				// --- Success feedback ---
				displayMessage('Thank you for subscribing!', 'green');

				// --- Reset the form ---
				document.getElementById('emailForm').reset();

				// --- Send email to backend (if needed) ---
				fetch('https://elegancecandles.onrender.com/send-email', {
					method: 'POST',
					headers: { 'Content-Type': 'application/json' },
					body: JSON.stringify({ email, name})
				})
					.then(response => response.json())
					.then(data => console.log('Email send status:', data.message))
					.catch(error => console.error('Error sending email:', error));

			} catch (error) {
				// --- Handle Firebase errors ---
				console.error('Firebase error:', error);
				displayMessage('Error: ' + error.message, 'red');
			} finally {
				// --- Hide loading spinner ---
				subscribeBtn.disabled = false;
				loadingSpinner.style.display = 'none';
			}
		}); e.preventDefault(); // Prevent form from refreshing the page

		//DATA LAYER PUSH
document.getElementById('subscribeBtn').addEventListener('click', function () {
  const email = document.getElementById('email').value;
  const name = document.getElementById('name').value;
  const phone = document.getElementById('PhoneNo').value;

  window.dataLayer = window.dataLayer || [];
  window.dataLayer.push({
    event: 'SubscribeButtonClick',
    newsletterEmail: email,
    newsletterName: name,
    newsletterPhone: phone
  });
});
	</script>

</body>

</html>
